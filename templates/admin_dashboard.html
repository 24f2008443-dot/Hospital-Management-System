{% extends 'base.html' %}
{% block content %}
  <h3>Admin Dashboard</h3>
  <div class="row">
    <div class="col-md-4">
      <div class="card p-3">Doctors: {{ total_doctors }}</div>
    </div>
    <div class="col-md-4">
      <div class="card p-3">Patients: {{ total_patients }}</div>
    </div>
    <div class="col-md-4">
      <div class="card p-3">Appointments: {{ total_appointments }}</div>
    </div>
  </div>
  <hr>
  <canvas id="appointmentsChart"></canvas>
  <script>
    const labels = {{ labels|tojson }};
    const values = {{ values|tojson }};
    const ctx = document.getElementById('appointmentsChart').getContext('2d');
    new Chart(ctx, { type: 'bar', data: { labels: labels, datasets: [{ label: 'Appointments', data: values }] } });
  </script>
  <a href="/admin/doctors" class="btn btn-sm btn-primary mt-3">Manage Doctors</a>
{% endblock %}